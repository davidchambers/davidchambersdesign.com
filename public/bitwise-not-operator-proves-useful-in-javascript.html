<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Bitwise NOT operator proves useful in JavaScript</title>
    <link rel="alternate" type="application/atom+xml" href="/feed/" />
    <link rel="stylesheet" href="/public/css/reset.css" media="all" />
    <link rel="stylesheet" href="/public/css/print.css" media="print" />
    <link rel="stylesheet" href="/public/css/screen.css" media="screen" />
    <link rel="shortcut icon" type="image/x-icon" href="http://static.davidchambersdesign.com/favicon.ico" />
    <script src="http://use.typekit.com/jhk0ogh.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
  </head>
  <body>
    <div id="skip">
      <a href="#main">Skip to main content</a>
    </div>
    <div id="wrap">
      <div id="header">
        <header>
          <a id="title" href="/">David Chambers Design</a>
          <hr />
          <p>It's where I share interesting info with other web geeks</p>
          <nav id="nav">
            <ul>
              <li><a href="/about/"><span><strong>About.</strong> Who I am and what I do.</span></a></li>
              <li><a href="/contact/"><span><strong>Contact.</strong> Just in case you want to get in touch.</span></a></li>
              <li><a href="/archives/"><span><strong>Archives.</strong> Old posts, recent posts, they're all here.</span></a></li>
              <li><a href="/tags/"><span><strong>Tags.</strong> Helpful if you're after posts on a particular topic.</span></a></li>
              <li><a href="https://bitbucket.org/davidchambers"><span><strong>Bitbucket.</strong> Home to most of my open-source projects.</span></a></li>
              <li><a href="/twitter/"><span><strong>Twitter.</strong> It's where I chirrup… or chirp… or something.</span></a></li>
            </ul>
          </nav>
        </header>
      </div>
      <div id="main">
        <article>
          <header>
            <h1>Bitwise NOT operator proves useful in JavaScript</h1>
            <time datetime="2010-12-11T15:00:00+11:00" pubdate="pubdate">11 December 2010</time>
          </header>
<p>JavaScript is a wonderful language. Its syntax, though, leaves a lot to be
desired at times. String pattern matching, for example, is rather ugly.</p>
<pre><code>:::javascript
// ugly option 1
if (text.indexOf('✈') != -1)

// ugly option 2
if (text.indexOf('✈') &gt;= 0)

// ugly option 3
if (text.indexOf('✈') &gt; -1)
</code></pre>
<p>It'd be nice to be able to write <code>text.contains('✈')</code>, which is both intuitive
and self-documenting. The language does provide a way to make such expressions
terser, but it's far from obvious.</p>
<pre><code>:::javascript
// bitwise NOT
if (~text.indexOf('✈'))
</code></pre>
<p><a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Bitwise_Operators">Bitwise operators</a> make my head spin, but the Perl programmer in me thinks
they're awesome. I don't profess to understand <em>why</em> exactly the bitwise NOT
operator does what it does, but I've played with it enough to know how it
behaves. It's equivalent to the following function, at least for the values
that can be returned by <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/indexOf"><code>indexOf</code></a>.</p>
<pre><code>:::javascript
function bitwiseNot(n) {
    return -n - 1;
}
</code></pre>
<p><code>indexOf</code> returns -1, 0, 1, 2, 3, or some other positive integer. When these
values are used as operands for the bitwise NOT operator, the results are 0,
-1, -2, -3, -4, and so on. Therefore, <code>~text.indexOf('✈')</code> is equivalent to
<code>text.contains('✈')</code> in Boolean contexts.</p>
          <footer class="metadata">
            <ul>
              <li class="shorturl"><a href="http://dċd.ws/14/">Short URL</a></li>
            </ul>
            <h4>This post has the following tags:</h4>
            <ol>
              <li><a href="/tag/JavaScript/">JavaScript</a></li>
              <li><a href="/tag/programming/">programming</a></li>
            </ol>
          </footer>
          <h3 id="related">Possibly related posts</h3>
          <ul>
            <li><a href="http://davidchambersdesign.com/cricket-field-diagrams/">Cricket field diagrams</a></li>
            <li><a href="http://davidchambersdesign.com/tiny-calendar-icons-sprite/">Tiny calendar icons sprite</a></li>
            <li><a href="http://davidchambersdesign.com/bike-shelf/">Bike shelf</a></li>
            <li><a href="http://davidchambersdesign.com/man-after-my-own-heart/">Man after my own heart</a></li>
            <li><a href="http://davidchambersdesign.com/dieter-rams-video-interview/">Dieter Rams video interview</a></li>
          </ul>
        </article>
      </div>
    </div>
    <footer>
      <p>Powered by <a href="http://mango.io/wtf?" data-version="0.9dev">Mango</a>. Hosted on <a href="http://www.linode.com/?r=ce523c9eeda64e4bceaf7011dc9e8558b909711d">Linode</a>. Original content <a href="/copying/">WTFPL-licensed</a>.</p>
    </footer>
  </body>
</html>
