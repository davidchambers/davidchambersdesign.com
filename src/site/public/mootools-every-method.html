<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>MooTools every method</title>
    <link rel="alternate" type="application/atom+xml" href="/feed/" />
    <link rel="stylesheet" href="/css/reset.css" media="all" />
    <link rel="stylesheet" href="/css/print.css" media="print" />
    <link rel="stylesheet" href="/css/screen.css" media="screen" />
    <link rel="shortcut icon" type="image/x-icon" href="http://static.davidchambersdesign.com/favicon.ico" />
    <script src="http://use.typekit.com/jhk0ogh.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
  </head>
  <body>
    <div id="skip">
      <a href="#main">Skip to main content</a>
    </div>
    <div id="wrap">
      <div id="header">
        <header>
          <a id="title" href="/">David Chambers Design</a>
          <hr />
          <p>It's where I share interesting info with other web geeks</p>
          <nav id="nav">
            <ul>
              <li><a href="/about/"><span><strong>About.</strong> Who I am and what I do.</span></a></li>
              <li><a href="/contact/"><span><strong>Contact.</strong> Just in case you want to get in touch.</span></a></li>
              <li><a href="/archives/"><span><strong>Archives.</strong> Old posts, recent posts, they're all here.</span></a></li>
              <li><a href="/tags/"><span><strong>Tags.</strong> Helpful if you're after posts on a particular topic.</span></a></li>
              <li><a href="https://bitbucket.org/davidchambers"><span><strong>Bitbucket.</strong> Home to most of my open-source projects.</span></a></li>
              <li><a href="/twitter/"><span><strong>Twitter.</strong> It's where I chirrup… or chirp… or something.</span></a></li>
            </ul>
          </nav>
        </header>
      </div>
      <div id="main">
        <article>
          <header>
            <h1>MooTools every method</h1>
            <time datetime="2010-03-18T00:40:00+13:00" pubdate="pubdate">18 March 2010</time>
          </header>
          <p>A reasonably common task is to determine whether a particular statement evaluates as true for every item in a collection. Take <var>list</var>, for example, an Array containing several numbers:</p>
          <pre><code>var list = [4, -1, 3, 2, 5];
</code></pre>
          <p>One might wish to determine whether all the numbers in <var>list</var> are positive. The required logic is as follows:</p>
          <ol>
            <li>assume that all the numbers in <var>list</var> are positive, then...</li>
            <li>loop through <var>list</var> until the assumption is proven to be false, or until all items in <var>list</var> have been tested</li>
          </ol>
          <p>In plain JavaScript, this can be achieved using a <code>for</code> loop...</p>
          <pre><code>var allPositive = true;
for (var i = 0; i &lt; list.length; i++) {
    if (list[i] &lt;= 0) {
        allPositive = false;
        break;
    }
}
</code></pre>
          <p>... or a <code>while</code> loop (which is slightly more efficient).</p>
          <pre><code>var allPositive = true, i = list.length;
while (i--) {
    if (list[i] &lt;= 0) {
        allPositive = false;
        break;
    }
}
</code></pre>
          <p><strong>Seriously, though, who is writing <em>vanilla</em> JavaScript in 2010?</strong> Everyone and their grandmothers are using JavaScript frameworks these days, and there are plenty of good ones out there. I recently made the switch to <a href="http://mootools.net/">MooTools</a> from <a href="http://prototypejs.org/">Prototype</a>, after deciding that while <a href="http://jquery.com/">jQuery</a> is fantastic, the <a href="http://jqueryvsmootools.com/#jsfun">MooTools philosophy</a> is more to my liking.</p>
          <p>With MooTools, one might consider using the <a href="http://mootools.net/docs/core/Native/Array#Array:each">Array object's each method</a> instead of a <code>for</code> or <code>while</code> loop.</p>
          <pre><code>var allPositive = true;
list.each(function (item) {
    if (item &lt;= 0) {
        allPositive = false;
    }
});
</code></pre>
          <p>While this gets the job done, it's suboptimal for two reasons: the positiveness of <em>every</em> item is evaluated, which will often not be necessary; and, well, <strong>it ain't pretty</strong>. ;)</p>
          <h3>Enter <code>every</code></h3>
          <p>As is so often the case in programming, if something seems fiddly and difficult there's probably a better tool for the job. In this case the <a href="http://mootools.net/docs/core/Native/Array#Array:every">Array object's every method</a> is the perfect tool for the job.</p>
          <pre><code>var allPositive = list.every(function (item) {
    return item &gt; 0;
});
</code></pre>
          <p>This is terser than is possible with vanilla JavaScript. It reads better too, in my opinion!</p>
          <footer class="metadata">
            <ul>
              <li class="shorturl"><a href="http://dċd.ws/41/">Short URL</a></li>
            </ul>
            <h4>This post has the following tags:</h4>
            <ol>
              <li><a href="/tag/javascript/">JavaScript</a></li>
              <li><a href="/tag/mootools/">MooTools</a></li>
            </ol>
          </footer>
          <h3 id="related">Possibly related posts</h3>
          <ul>
            <li><a href="/positioning-elements-using-mootools/">Positioning elements using MooTools</a></li>
            <li><a href="/autopopulating-input-fields-with-mootools/">Auto-populating input fields with MooTools</a></li>
            <li><a href="/python-loops-can-have-else-clause/">Python loops can have else clause?!</a></li>
            <li><a href="/duplicating-arrays-in-javascript/">Duplicating arrays in JavaScript</a></li>
            <li><a href="/extra-comma-considered-harmful/">Extra comma considered harmful</a></li>
          </ul>
        </article>
      </div>
    </div>
    <footer>
      <p>Powered by <a href="http://mango.io/wtf?" data-version="0.9dev">Mango</a>. Hosted on <a href="http://www.linode.com/?r=ce523c9eeda64e4bceaf7011dc9e8558b909711d">Linode</a>. Original content <a href="/copying/">WTFPL-licensed</a>.</p>
    </footer>
  </body>
</html>
