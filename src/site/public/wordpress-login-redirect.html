<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WordPress login redirect</title>
    <link rel="alternate" type="application/atom+xml" href="/feed/" />
    <link rel="stylesheet" href="/css/reset.css" media="all" />
    <link rel="stylesheet" href="/css/print.css" media="print" />
    <link rel="stylesheet" href="/css/screen.css" media="screen" />
    <link rel="shortcut icon" type="image/x-icon" href="http://static.davidchambersdesign.com/favicon.ico" />
    <script src="http://use.typekit.com/jhk0ogh.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
  </head>
  <body>
    <div id="skip">
      <a href="#main">Skip to main content</a>
    </div>
    <div id="wrap">
      <div id="header">
        <header>
          <a id="title" href="/">David Chambers Design</a>
          <hr />
          <p>It's where I share interesting info with other web geeks</p>
          <nav id="nav">
            <ul>
              <li><a href="/about/"><span><strong>About.</strong> Who I am and what I do.</span></a></li>
              <li><a href="/contact/"><span><strong>Contact.</strong> Just in case you want to get in touch.</span></a></li>
              <li><a href="/archives/"><span><strong>Archives.</strong> Old posts, recent posts, they're all here.</span></a></li>
              <li><a href="/tags/"><span><strong>Tags.</strong> Helpful if you're after posts on a particular topic.</span></a></li>
              <li><a href="https://bitbucket.org/davidchambers"><span><strong>Bitbucket.</strong> Home to most of my open-source projects.</span></a></li>
              <li><a href="/twitter/"><span><strong>Twitter.</strong> It's where I chirrup… or chirp… or something.</span></a></li>
            </ul>
          </nav>
        </header>
      </div>
      <div id="main">
        <article>
          <header>
            <h1>WordPress login redirect</h1>
            <time datetime="2009-03-01T03:01:00+13:00" pubdate="pubdate">1 March 2009</time>
          </header>
          <p>Sometimes we require users to log in to a WordPress site in order to access <em>front-end</em> functionality hidden from guests. In such instances, we can simply provide a standard login link:</p>
          <pre><code>&lt;a href="&lt;?php bloginfo('url'); ?&gt;/wp-login.php"&gt;log in&lt;/a&gt;
</code></pre>
          <p>While this gets the job done, it takes users to the dashboard after they have logged in: they must then click on a link to return to the front-end, at which point an additional click may be required to get them back to the page they were viewing. Since WordPress 2.6.2 it has been possible to circumvent this round trip from <strong>origin</strong> to <strong>wp-login.php</strong> to <strong>wp-admin/</strong> to <strong>/</strong> and finally back to <strong>origin</strong> by including a value for <code>redirect_to</code> in the href:</p>
          <pre><code>&lt;a href="&lt;?php bloginfo('url'); ?&gt;/wp-login.php?redirect_to=&lt;?php echo urlencode($_SERVER['REQUEST_URI']); ?&gt;"&gt;log in&lt;/a&gt;
</code></pre>
          <p>The above returns users to their starting point after they've logged in.</p>
          <footer class="metadata">
            <ul>
              <li class="shorturl"><a href="http://dċd.ws/14/">Short URL</a></li>
            </ul>
            <h4>This post has the following tags:</h4>
            <ol>
              <li><a href="/tag/php/">PHP</a></li>
              <li><a href="/tag/wordpress/">WordPress</a></li>
            </ol>
          </footer>
          <h3 id="related">Possibly related posts</h3>
          <ul>
            <li><a href="/looping-more-than-once-with-the-wordpress-loop/">Looping more than once with the WordPress loop</a></li>
            <li><a href="/using-html5-time-element-in-wordpress-themes/">Using HTML5 time element in WordPress themes</a></li>
            <li><a href="/escape-special-characters-for-sql-regexp/">Escape special characters for SQL REGEXP</a></li>
            <li><a href="/intelligent-css-caching/">Intelligent CSS caching</a></li>
            <li><a href="/php-print_filesize-function/">PHP print_filesize function</a></li>
          </ul>
        </article>
      </div>
    </div>
    <footer>
      <p>Powered by <a href="http://mango.io/wtf?" data-version="0.9dev">Mango</a>. Hosted on <a href="http://www.linode.com/?r=ce523c9eeda64e4bceaf7011dc9e8558b909711d">Linode</a>. Original content <a href="/copying/">WTFPL-licensed</a>.</p>
    </footer>
  </body>
</html>
